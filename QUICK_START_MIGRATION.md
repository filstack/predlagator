# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Supabase

## –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (5 –º–∏–Ω—É—Ç)

### 1Ô∏è‚É£ –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Supabase

–û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ Supabase Dashboard:
https://supabase.com/dashboard/project/qjnxcjbzwelokluaiqmk/sql/new

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞: `shared/setup-supabase.sql`

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à_–±–µ–∑–æ–ø–∞—Å–Ω—ã–π_–ø–∞—Ä–æ–ª—å` –Ω–∞ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (–∑–∞–ø–æ–º–Ω–∏—Ç–µ –µ–≥–æ!)

### 2Ô∏è‚É£ –û–±–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ .env —Ñ–∞–π–ª–∞—Ö

–ó–∞–º–µ–Ω–∏—Ç–µ `[YOUR-PASSWORD]` –Ω–∞ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `prisma` –≤ —ç—Ç–∏—Ö —Ñ–∞–π–ª–∞—Ö:

- ‚úÖ `shared/.env` - DATABASE_URL –∏ DIRECT_URL
- ‚úÖ `backend/.env` - DATABASE_URL
- ‚úÖ `.env` - DATABASE_URL (–∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–∞–π–ª)

**–§–æ—Ä–º–∞—Ç —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
```
postgresql://prisma.qjnxcjbzwelokluaiqmk:–í–ê–®_–ü–ê–†–û–õ–¨@aws-0-eu-central-1.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é

–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –≤ –ø–∞–ø–∫–µ `shared` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```powershell
cd shared
.\migrate-to-supabase.ps1
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```powershell
cd shared
npx prisma generate
npx prisma migrate dev --name init_supabase
```

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```powershell
npx prisma studio
```

–û—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä —Å GUI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–±–µ–∑ PowerShell —Å–∫—Ä–∏–ø—Ç–∞)

```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø–∞–ø–∫—É shared
cd shared

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npx prisma generate

# –í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
npx prisma migrate dev --name init_supabase

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É –Ω–∞–ø—Ä—è–º—É—é (–±—ã—Å—Ç—Ä–µ–µ, –±–µ–∑ –∏—Å—Ç–æ—Ä–∏–∏)
npx prisma db push

# –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω)
npx prisma migrate deploy
```

---

## –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –±–∞–∑—É —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```powershell
cd shared
npx prisma db seed
```

---

## –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —Ñ–∞–π–ª–µ: **SUPABASE_MIGRATION_GUIDE.md**

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞: "Can't reach database server"
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è –≤ .env —Ñ–∞–π–ª–∞—Ö
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `?connect_timeout=30` –≤ –∫–æ–Ω–µ—Ü DATABASE_URL

### –û—à–∏–±–∫–∞: "User prisma does not exist"
–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç `shared/setup-supabase.sql` –≤ Supabase Dashboard

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `shared/.env`:
- DATABASE_URL –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ä—Ç 6543 —Å pgbouncer=true
- DIRECT_URL –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ä—Ç 5432 –±–µ–∑ pgbouncer

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

- **–ü—Ä–æ–µ–∫—Ç ID**: qjnxcjbzwelokluaiqmk
- **Supabase URL**: https://qjnxcjbzwelokluaiqmk.supabase.co
- **Dashboard**: https://supabase.com/dashboard/project/qjnxcjbzwelokluaiqmk

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –¢–µ–ø–µ—Ä—å –≤–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –Ω–æ–≤–æ–º Supabase –ø—Ä–æ–µ–∫—Ç–µ.
